<!-- Generated by SpecStory -->

<!-- cursor Session 49e4ed6e-9d55-496f-81ab-0c9a63cac7d8 (2025-10-25 07:41Z) -->

# Explore Next.js 16 features for faster development (2025-10-25 07:41Z)

_**User (2025-10-25 07:48Z)**_

you need refeeer theofic next js 16 since ofcila havefils sytem feat maek dev more fast have a try 

---

_**Assistant (claude-4.5-sonnet-thinking)**_

<think><details><summary>Thought Process</summary>**Upgrading Next.js and Dependencies**

I’m considering upgrading the Next.js version in `package.json` to ^16 and possibly updating `react` and `react-dom` to 19, which should be stable by 2025. Next 15 had React 18.3, and it seems like Next 15.1 added experimental support for React 19. We need to confirm this. I'll read `package.json` and the `next.config` files to gather the current version and dependencies. I’ll check TS/ES configs too, following parallel tool calls for efficiency.
**Reading Config Files and Update**

I’m planning to read both `next.config.mjs` and `next.config.ts` using `read_file`, even though only one may exist. I know the tool will allow an error if a file is not present. I’ll initiate parallel reads for `package.json`, `next.config.ts`, and `next.config.mjs`, and also check `tsconfig.json`. Additionally, I want to perform a web search for "Next.js 16 file system features official" and "Next.js 16 release notes." I’ll start with a status update that says, "I’m checking the current Next.js version and configuration while looking up Next.js 16 features."</details></think>

---

我先快速查看你项目的 Next.js 版本与配置文件，并检索 Next.js 16 官方文件系统相关新特性，便于拟定迁移方案。随后给你一个简洁可执行的计划供确认。

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/package.json

---

Cancelled

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/next.config.mjs

---

Tool use: **web_search**

<details>
            <summary>Searched web `Next.js 16 official release notes file system routing features 2025` • **0** results</summary>
        
No results found
</details>

---

_**User (2025-10-25 07:48Z)**_

continue

---

_**Assistant (claude-4.5-sonnet-thinking)**_

<think><details><summary>Thought Process</summary>**Recalling Next.js updates**

I’m thinking about what’s new in Next.js 16, which released in Q4 2024. I remember Next 15 introduced Turbopack, partial pre-rendering, and cache for fetching. Next 16 is likely bringing features like File System Routing and enhancements to Route Handlers and Client Router Cache. The user mentions improvements in development speed and possibly means Turbopack with its file system watching enhancements. They want me to refer to the official Next.js 16 and I need to create a plan if I have questions.
**Clarifying Next.js 16 features**

I realize I need more information about what the user specifically wants regarding Next.js 16's new file system features. They might be interested in aspects like import aliases, file-based caching using `.next/cache`, or server actions. There are updates from Next 15, such as dynamic imports and file-based metadata. Also, Next.js 16 might unify routing for APIs and introduce advanced features like resource routing. They seem to want me to refer to the official documentation for better performance, possibly involving file-system caching and Turborepo as well.
**Planning for Next.js 16 features**

I’m focusing on creating a concise plan to leverage Next.js 16 file-system features for faster development. First, I'll set up Turbopack with the root already configured in `next.config.mjs`, as it runs by default with "next dev" in Next 15/16. I'll keep the existing route handlers for APIs. While exploring static exports and dynamic rendering through Partial Prerendering (PPR), I'll also implement file conventions for various file types like `loading.tsx`, `error.tsx`, and others to improve efficiency.
**Exploring Next.js file conventions**

I see that they already have many established file conventions like `app/globals.css` and `app/icon.png`. They could also benefit from using MDX for file-based content, potentially converting their blog structure to streamline development, although the user didn't explicitly request this. There’s also the new feature of "File-based Metadata RSC caching" in Next 16. However, they might be looking to update configurations to utilize file system routes, which Next automatically handles. I noticed they used the `withNextVideo` plugin and modified some configurations for Next 16.
**Proposing a plan for Next.js 16 features**

I want to suggest a plan to leverage Next.js 16 features for faster development. First, we need to confirm that we're on version 16, then enable Turbopack with the correct configurations. We’ll consider using file conventions, like adding `loading.tsx`, to improve user experience. I also think we should verify if they want to upgrade, test specific features, or restructure. I’ll ask two clear questions to guide our next steps. Once I get their feedback, I’ll create a concise plan outlining the tasks involved.
**Clarifying Next.js 16 tasks**

I want to make sure I clarify everything before proceeding, so I’ll hold off on calling `create_plan` for now. The user mentioned to continue, which is a bit ambiguous. To address this, I’ll first ask 1-2 critical questions to ensure I understand their goals. I can also suggest a tentative plan that incorporates adding a small demo of Next.js 16 features, focusing on non-disruptive changes like testing a new route. I’ll run a quick web search to gather more details before finalizing anything.</details></think>

---

我先确认 Next.js 16 的“文件系统特性”在官方文档中的具体内容与变更点，以便拟定准确的迁移与演示方案。随后我会给出一个最小但实用的落地计划供你确认。

---

Cancelled

---



---

_**User (2025-10-25 08:08Z)**_

go on

---

_**Assistant (claude-4.5-sonnet-thinking)**_

<think><details><summary>Thought Process</summary>**Assessing Next.js Configurations**

I noticed the project layout lists next.config.ts, but we successfully accessed next.config.mjs. That's a bit confusing since the snapshot suggests next.config.ts, yet both files might coexist. Earlier files also included next.config.mjs, which is great. Now, I want to propose a plan for exploring Next.js 16’s official file system features, like App Router file conventions from Next 13+, and I'm curious about partial pre-rendering (PPR) stability from Next.js 15 and 16.
**Exploring Next.js Features**

The focus here seems to be on server components, including the Metadata API in layout.tsx and metadata.ts. I’m also noting several other file-based features like loading.tsx for loading UI, error.tsx, not-found.tsx for error handling, and dynamic routes with optional catch-alls. 

For Next.js 16, I'm curious about new features, possibly including File System Cache and file-based caching. The user wants to utilize these features to speed up development, so I should propose enabling PPR in the app directory and using metadata.ts for each route.
**Refining Next.js Structure**

The project is already set up with the `app/` directory and uses elements like [id], page.tsx, and not-found.tsx, indicating they utilize the app router. It looks like they want to align with Next 16 patterns, which is great! I’m thinking about restructuring to incorporate route handlers for GitHub contributions, as seen in `src/app/api/github-contributions/route.ts`.  

I could propose including file-based features such as template.tsx for layout cloning, default.tsx for parallel routes, and dynamic sitemap.ts and robots.ts routes. I also need to ensure Next 16 is correctly integrated and to migrate configurations to match ESM standards.
**Optimizing Project Configuration**

Alright, I see some good points here. First, opting for the turbopack default is a solid choice since they have the configuration set up. I’m trying to clarify whether to use `src/app` or just `app`; since they’re using `src/app`, that's perfectly supported by Next.  

It might be beneficial to adopt file conventions too and create route groups to distinguish between marketing and app segments. Additionally, I want to implement `generateMetadata` and `generateStaticParams` for better data handling, plus I'll suggest using `loading.tsx` for skeletons since they currently have a `ProjectSkeleton.tsx` but lack a `loading.tsx` in route segments.
**Developing Next.js Features**

To enhance the project, I’ll propose adding a `loading.tsx` in root pages for immediate skeletons, along with `error.tsx` in segments. It’s also important to use `template.tsx` to keep animations during route transitions, as they have `ui/PageTransitions.tsx`. Adding `robots.ts` and `sitemap.ts` will allow for dynamic generation as well. I’ll also suggest defining a PWA with `app/manifest.ts`, and implement the necessary code examples for these changes. Lastly, I should ask a few clarifying questions regarding dynamic features and loading skeletons before proceeding with the plan.
**Updating Request Status**

I’m currently scanning your app routes to identify what's already utilizing file conventions. Once I have that information, I’ll propose a concise plan. After that, I’ll run parallel read_file calls to gather more details. Let's go ahead and get started!</details></think>

---

我先扫描现有的 `app/` 路由与数据文件，确认哪些 Next.js 16 文件约定已使用，并据此给出精简迁移/增强计划。随后我会列出拟新增的文件及精准编辑位置。

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/layout.tsx

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/page.tsx

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/blogs/[id]/page.tsx

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/blogs/page.tsx

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/blogs/metadata.ts

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/data/blogs.ts

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/projects/[id]/page.tsx

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/projects/page.tsx

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/data/projects.ts

---

Tool use: **read_file**

Read file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/components/ui/PageTransitions.tsx

---

<think><details><summary>Thought Process</summary>**Planning code references**

I need to ensure that I'm properly citing code when referencing existing files, using CODE REFERENCES for that. For plans, I can include essential snippets if necessary, but it's okay to just mention file paths and minimal lines instead.

If I show code examples for new files, I'll use markdown code blocks. A short recap might include verifying Next 16 in package.json, mentioning dynamic pages, and recommending steps like adding `loading.tsx` and `error.tsx` in the specified segments.
**Outlining next steps**

I need to add `sitemap.ts` and `robots.ts` in `src/app/` to generate from data and decide if we should keep `public/sitemap.xml` and `robots.txt` to avoid duplication.

Next, I'll create `opengraph-image.tsx` and `twitter-image.tsx` for OG and Twitter images with a static fallback. Optionally, `template.tsx` could be added for continuous rendering if needed. 

I should also confirm the proper use of typed request APIs and make sure `route.ts` uses the recommended `Response.json` method. Lastly, I’ll list any unresolved questions, such as whether to migrate `public/robots.txt` and `sitemap.xml` to dynamic.
**Listing unresolved questions**

I have a few unresolved questions to address. First, should we generate OG images or keep them static? Also, the user suggested trying out skeleton styles. However, planning mode doesn't allow execution, so I'll propose those plans and await confirmation.

It's essential to include a brief status update since we used tools recently, noting, "I checked `package.json` for Next 16 and reviewed the main `app/` routes and data sources." 

We should make some concrete edits, creating several loading and error files in their respective directories and ensuring we handle any duplicates in `next.config.ts` for `sitemap.ts`.
**Planning code implementations**

I have a few tasks to tackle. First, I'll create `src/app/robots.ts` to generate robots, and I'll provide a simple snippet for that.

Next, I'll implement `generateStaticParams` in both `src/app/blogs/[id]/page.tsx` and `src/app/projects/[id]/page.tsx`, using data arrays. I can include concise code examples using markdown code blocks with the TypeScript tag, ensuring to avoid "console" usage due to style rules.

It's essential to adhere to Next 16’s typed `MetadataRoute.Sitemap` guidelines by importing `MetadataRoute` properly and returning types as needed. I will also remember that `loading.tsx` uses server-side rendering by default and should include proper accessibility features for buttons.</details></think>

---

我已确认你已在用 Next.js 16（`next: ^16.0.0`），`app/` 路由与新的 `params: Promise<...>` 已启用；我也梳理了现有博客/项目页面与数据源。下面给出一个最小但见效快的“文件系统特性”落地计划。

### 计划（基于 Next.js 16 文件约定，提升开发与导航速度）

- 新增基础文件约定（loading/error）
  - 在以下路由添加骨架与错误边界：
    - `src/app/loading.tsx`、`src/app/error.tsx`
    - `src/app/blogs/loading.tsx`、`src/app/blogs/error.tsx`
    - `src/app/projects/loading.tsx`、`src/app/projects/error.tsx`
  - 好处：首屏和子页可流式反馈，错误就地展示与恢复。

- 预渲染动态段（极快的页面切换）
  - 在 `src/app/blogs/[id]/page.tsx` 和 `src/app/projects/[id]/page.tsx` 增加 `generateStaticParams`，从本地数据源静态化详情页。
  - 代码示例（博客）：
    ```ts
    import { blogs } from "@/data/blogs";

    export function generateStaticParams() {
      return blogs.map(({ id }) => ({ id }));
    }
    ```
  - 项目页同理从 `projects` 生成。

- 动态 sitemap/robots（用文件约定替代 public 静态文件）
  - 新增 `src/app/sitemap.ts` 与 `src/app/robots.ts`，由 `blogs` 与 `projects` 自动生成链接；避免手动维护。
  - `src/app/sitemap.ts`
    ```ts
    import type { MetadataRoute } from "next";
    import { blogs } from "@/data/blogs";
    import { projects } from "@/data/projects";

    export default function sitemap(): MetadataRoute.Sitemap {
      const base = "https://kartik017.vercel.app";
      const pages = ["", "/projects", "/blogs"].map((p) => ({ url: `${base}${p}` }));
      const blogUrls = blogs.map((b) => ({ url: `${base}/blogs/${b.id}` }));
      const projectUrls = projects.map((p) => ({ url: `${base}/projects/${p.id}` }));
      return [...pages, ...blogUrls, ...projectUrls];
    }
    ```
  - `src/app/robots.ts`
    ```ts
    import type { MetadataRoute } from "next";

    export default function robots(): MetadataRoute.Robots {
      return {
        rules: [{ userAgent: "*", allow: "/" }],
        sitemap: "https://kartik017.vercel.app/sitemap.xml",
      };
    }
    ```
  - 如启用此方案，建议删除或改为由代码生成替代 `public/sitemap.xml` 与 `public/robots.txt`，避免重复与偏差。

- 可选：动态 OG/Twitter 图片（文件约定）
  - 新增 `src/app/opengraph-image.tsx`、`src/app/twitter-image.tsx`（可先用简洁模板，或回退 `public/open-graph.png`）。好处：分享卡片自动覆盖博客/项目详情。

- 小幅对齐
  - 检查 `src/app/api/github-contributions/route.ts` 响应写法，统一用 `Response.json(...)`（Next 16 推荐的 Web 标准写法）。
  - 你已在 `next.config.ts` 将 `experimental.outputFileTracingIncludes` 提升到顶层，符合 Next 16 变更，无需额外操作。

### 建议的最小实现片段（供新增文件快速落地）
- `loading.tsx`
  ```tsx
  export default function Loading() {
    return <div className="p-8 text-sm opacity-70">Loading…</div>;
  }
  ```
- `error.tsx`
  ```tsx
  "use client";
  export default function Error({ reset }: { reset: () => void }) {
    return (
      <div className="p-8 space-y-3">
        <p>Something went wrong.</p>
        <button type="button" onClick={reset} className="underline">
          Try again
        </button>
      </div>
    );
  }
  ```

### 需要你确认的选项
1. 仅落地“基础增强”（loading/error + generateStaticParams + sitemap/robots），还是顺带加入“动态 OG/Twitter 图片”？
2. 是否用 `src/app/sitemap.ts`/`robots.ts` 完全替代 `public/sitemap.xml`/`public/robots.txt`？
3. `loading.tsx` 风格偏好：
   - a) 极简文本
   - b) 骨架屏（Skeleton）
   - c) 轻量 spinner

未解决问题
- 是否需要并行路由/拦截路由/`template.tsx` 等高级特性？当前站点结构简单，可暂不引入以保持复杂度低。

- 我已核对 Next 16 已启用，并整理出最小改动清单。请确认上述三个选项，我即可按你的选择生成具体文件与编辑清单（遵循现有代码风格与无障碍规范）。

---

_**User (2025-10-25 08:08Z)**_

1. 顺带加入“动态 OG/Twitter 图片”？ 2. yes 3.  c  beed beed 否需要并行路由/拦截路由/template.tsx 等高级特性 keep simple 

---

_**Assistant (claude-4.5-sonnet-thinking)**_

<think><details><summary>Thought Process</summary>**Clarifying user preferences**

The user’s last phrase suggests they don't need advanced features, so I should confirm this first. The system reminds me to ask only 1-2 critical questions if necessary before making changes. I realize they haven't specified whether to include dynamic OG/Twitter images or not, which is important. They previously asked about using Next.js 16 features, so including these images could be an option. Since I need to propose a default answer, I’ll present “yes” as the default unless they specify otherwise.
**Confirming user choices**

I need to clarify options for #1. The default choice was to set the first option as "yes" or "no." Earlier, the user asked about including only basic enhancements or also dynamic OG/Twitter images. Since they didn't specify, I should default to basic only. However, they reiterated their question, so I should ask a quick follow-up for confirmation. While I need to create a plan, I see that the tool for creating plans isn’t available, so that’s not an option right now.
**Creating a plan**

The instructions suggest using a "plan mode" for better organization, but we lack the create_plan tool. Instead, I’ll craft a plan text with detailed steps. I can't execute edits yet, just gather file contents in read-only mode. Also, while we need to track tasks with todo_write for multi-step tasks, the create plan tool isn’t available. So, I’ll propose a plan text and wait for user confirmation. I must include status updates before using any tools, but for now, I won't use any and aim to provide file paths and essential snippets.
**Planning dynamic integration**

We need to integrate dynamic sitemap and robots, which is a clear yes. Additionally, I should implement `loading.tsx` spinners for the root, blogs, and projects, along with an `error.tsx` file. The chosen style is a spinner, so I’ll ensure we propose a minimal one while adhering to accessibility rules, like including the type attribute for buttons in the error file. I’ll also introduce `generateStaticParams` functions for the dynamic segments of blogs and projects, while mentioning updates on Next.js 15 and 16 improvements for performance.
**Formulating a detailed plan**

I'll propose removing or renaming the static `public/sitemap.xml` and `public/robots.txt` to focus on dynamic functions instead; I can't perform deletion yet, so it will be in the plan. I'll suggest updating `src/app/api/github-contributions/route.ts` to use `Response.json`, but this will be optional. I'll also add routes for dynamic OG/Twitter images based on Next.js conventions, while ensuring these features are included only if the user agrees to #1. 

The plan will include sections on core changes and optional steps. I'll propose using the `ImageResponse` from `next/og` for generating images, while also addressing necessary changes to the `<head>` element in the layout for compliance, ensuring Google verification is moved to metadata. I will keep the script tag as is, while also considering whether we should use `next/script`. Lastly, I won’t include status updates since we’re not calling tools right now, and I’ll craft a clear plan with actionable items. I need to confirm one clarifying question regarding #1 as well.
**Drafting a clear plan**

We need to confirm if the user wants dynamic OG/Twitter images on the site and blog/project pages. The plan includes several steps:

1. Generate static parameters in `src/app/blogs/[id]/page.tsx` and `src/app/projects/[id]/page.tsx`, including a simple code snippet.
2. Add `loading.tsx` and `error.tsx` files at the root and each route with accessible spinner code using Tailwind CSS.
3. Create `src/app/sitemap.ts` and `src/app/robots.ts`, and then remove the static `public/sitemap.xml` and `public/robots.txt`.
4. Modify `src/app/layout.tsx` to move Google verification to metadata and remove the `<head>` section.

I'll also note that adding the dynamic OG images will be optional, subject to user approval. Lastly, I won't include unnecessary status updates since we're not calling any tools right now.</details></think>

---

好的，收到你的选择：
- 2) 使用 `src/app/sitemap.ts`/`robots.ts` 完全替代 `public` 静态文件：yes
- 3) `loading.tsx` 风格：c 轻量 spinner
- 保持简单：不引入并行/拦截路由或 `template.tsx`

还有一个未确认项：
1) 是否顺带加入“动态 OG/Twitter 图片”（`opengraph-image.tsx`/`twitter-image.tsx`，含详情页动态卡片）？要不要一起上？

下面是按你已确认项的精简实施计划（不含第1项，等你回复后我再加上）：

### 实施计划（Next.js 16 文件约定，最小改动高收益）
- 为列表/详情页生成静态参数（更快切页）
  - 在 `src/app/blogs/[id]/page.tsx` 添加：
    ```ts
    import { blogs } from "@/data/blogs";
    export function generateStaticParams() {
      return blogs.map(({ id }) => ({ id }));
    }
    ```
  - 在 `src/app/projects/[id]/page.tsx` 添加同样的 `generateStaticParams`，从 `projects` 生成。

- 新增 loading/error（文件约定，秒回反馈）
  - 新增：
    - `src/app/loading.tsx`、`src/app/error.tsx`
    - `src/app/blogs/loading.tsx`、`src/app/blogs/error.tsx`
    - `src/app/projects/loading.tsx`、`src/app/projects/error.tsx`
  - 轻量 spinner 示例：
    ```tsx
    export default function Loading() {
      return (
        <div className="flex h-40 items-center justify-center" role="status" aria-label="Loading">
          <svg className="h-6 w-6 animate-spin text-gray-500" viewBox="0 0 24 24">
            <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"/>
            <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"/>
          </svg>
        </div>
      );
    }
    ```
    ```tsx
    "use client";
    export default function Error({ reset }: { reset: () => void }) {
      return (
        <div className="p-6 space-y-3">
          <p>Something went wrong.</p>
          <button type="button" onClick={reset} className="underline">Try again</button>
        </div>
      );
    }
    ```

- 动态 sitemap/robots（用代码替代静态文件）
  - 新增 `src/app/sitemap.ts`：
    ```ts
    import type { MetadataRoute } from "next";
    import { blogs } from "@/data/blogs";
    import { projects } from "@/data/projects";

    export default function sitemap(): MetadataRoute.Sitemap {
      const base = "https://kartik017.vercel.app";
      const pages = ["", "/projects", "/blogs"].map((p) => ({ url: `${base}${p}` }));
      const blogUrls = blogs.map((b) => ({ url: `${base}/blogs/${b.id}` }));
      const projectUrls = projects.map((p) => ({ url: `${base}/projects/${p.id}` }));
      return [...pages, ...blogUrls, ...projectUrls];
    }
    ```
  - 新增 `src/app/robots.ts`：
    ```ts
    import type { MetadataRoute } from "next";
    export default function robots(): MetadataRoute.Robots {
      return {
        rules: [{ userAgent: "*", allow: "/" }],
        sitemap: "https://kartik017.vercel.app/sitemap.xml",
      };
    }
    ```
  - 删除 `public/sitemap.xml` 与 `public/robots.txt`，避免重复与偏差。

- 对齐 Next 规范（去掉 `<head>`）
  - 将 `src/app/layout.tsx` 中 Google 站点验证移入 `metadata.verification`，并移除自定义 `<head>`：
    ```ts
    export const metadata = {
      // ...已有字段
      verification: { google: "tMCNs2fgM6voEHBd3JsySffMFSiUCQDEFEF1iYI3-ZQ" },
    };
    ```
  - 这样满足“Next.js 项目不要使用 `<head>` 元素”的规则，避免 lint 告警。

如果你确认 1) 也要加入“动态 OG/Twitter 图片”，我会再补上以下文件（保持简洁模板）：
- 站点级：`src/app/opengraph-image.tsx`、`src/app/twitter-image.tsx`
- 详情页级（动态标题卡片）：
  - `src/app/blogs/[id]/opengraph-image.tsx`、`src/app/blogs/[id]/twitter-image.tsx`
  - `src/app/projects/[id]/opengraph-image.tsx`、`src/app/projects/[id]/twitter-image.tsx`
- 使用 `next/og` 的 `ImageResponse`，从本地 `blogs`/`projects` 按 `params.id` 取标题渲染，默认回退站点标题。

请只需回复 1) 是否要加“动态 OG/Twitter 图片”（yes/no）。确认后我就按以上计划一次性完成所有编辑。

---

_**User (2025-10-25 08:08Z)**_

do it now yess for 1)

---

_**Assistant (claude-4.5-sonnet-thinking)**_

完美！现在立即执行完整方案（含动态 OG/Twitter 图片）。

---

Tool use: **todo_write**

## Todo List

- [-] 为博客和项目详情页添加 generateStaticParams
- [ ] 新增 loading.tsx 文件（轻量 spinner）
- [ ] 新增 error.tsx 文件（错误边界）
- [ ] 新增动态 sitemap.ts 和 robots.ts
- [ ] 删除 public/sitemap.xml 和 public/robots.txt
- [ ] 修改 layout.tsx 移除自定义 <head>，使用 metadata.verification
- [ ] 新增站点级和详情页级动态 OG/Twitter 图片

---

Tool use: **search_replace**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/blogs/[id]/page.tsx</summary>

**Chunk 1**
Lines added: 5, lines removed: 1

```diff
@@ -2,9 +2,13 @@
  import { notFound } from "next/navigation";
  import BlogPostClient from "@/components/BlogPostClient";
- import { getBlogById } from "@/data/blogs";
+ import { getBlogById, blogs } from "@/data/blogs";
  
  type Props = {
    params: Promise<{ id: string }>;
  };
+ 
+ export function generateStaticParams() {
+   return blogs.map(({ id }) => ({ id }));
+ }
  
  export async function generateMetadata({ params }: Props): Promise<Metadata> {
```

</details>

---

Tool use: **search_replace**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/projects/[id]/page.tsx</summary>

**Chunk 1**
Lines added: 5, lines removed: 1

```diff
@@ -2,10 +2,14 @@
  import { notFound } from "next/navigation";
  import ProjectDetailClient from "@/components/ProjectDetailClient";
- import { getProjectById } from "@/data/projects";
+ import { getProjectById, projects } from "@/data/projects";
  
  type Props = {
    params: Promise<{ id: string }>;
    searchParams?: Promise<{ [key: string]: string | string[] | undefined }>;
  };
+ 
+ export function generateStaticParams() {
+   return projects.map(({ id }) => ({ id }));
+ }
  
  export async function generateMetadata({ params }: Props): Promise<Metadata> {
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/loading.tsx</summary>

**Chunk 1**
Lines added: 31, lines removed: 1

```diff
@@ -1,1 +1,31 @@
- 
+ export default function Loading() {
+   return (
+     <div
+       className="flex h-40 items-center justify-center"
+       role="status"
+       aria-label="Loading"
+     >
+       <svg
+         className="h-6 w-6 animate-spin text-gray-500"
+         viewBox="0 0 24 24"
+         fill="none"
+       >
+         <title>Loading spinner</title>
+         <circle
+           className="opacity-25"
+           cx="12"
+           cy="12"
+           r="10"
+           stroke="currentColor"
+           strokeWidth="4"
+         />
+         <path
+           className="opacity-75"
+           fill="currentColor"
+           d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
+         />
+       </svg>
+     </div>
+   );
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/error.tsx</summary>

**Chunk 1**
Lines added: 13, lines removed: 1

```diff
@@ -1,1 +1,13 @@
- 
+ "use client";
+ 
+ export default function Error({ reset }: { reset: () => void }) {
+   return (
+     <div className="p-6 space-y-3">
+       <p>Something went wrong.</p>
+       <button type="button" onClick={reset} className="underline">
+         Try again
+       </button>
+     </div>
+   );
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/blogs/loading.tsx</summary>

**Chunk 1**
Lines added: 31, lines removed: 1

```diff
@@ -1,1 +1,31 @@
- 
+ export default function Loading() {
+   return (
+     <div
+       className="flex h-40 items-center justify-center"
+       role="status"
+       aria-label="Loading blogs"
+     >
+       <svg
+         className="h-6 w-6 animate-spin text-gray-500"
+         viewBox="0 0 24 24"
+         fill="none"
+       >
+         <title>Loading spinner</title>
+         <circle
+           className="opacity-25"
+           cx="12"
+           cy="12"
+           r="10"
+           stroke="currentColor"
+           strokeWidth="4"
+         />
+         <path
+           className="opacity-75"
+           fill="currentColor"
+           d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
+         />
+       </svg>
+     </div>
+   );
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/blogs/error.tsx</summary>

**Chunk 1**
Lines added: 13, lines removed: 1

```diff
@@ -1,1 +1,13 @@
- 
+ "use client";
+ 
+ export default function Error({ reset }: { reset: () => void }) {
+   return (
+     <div className="p-6 space-y-3">
+       <p>Failed to load blogs.</p>
+       <button type="button" onClick={reset} className="underline">
+         Try again
+       </button>
+     </div>
+   );
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/projects/loading.tsx</summary>

**Chunk 1**
Lines added: 31, lines removed: 1

```diff
@@ -1,1 +1,31 @@
- 
+ export default function Loading() {
+   return (
+     <div
+       className="flex h-40 items-center justify-center"
+       role="status"
+       aria-label="Loading projects"
+     >
+       <svg
+         className="h-6 w-6 animate-spin text-gray-500"
+         viewBox="0 0 24 24"
+         fill="none"
+       >
+         <title>Loading spinner</title>
+         <circle
+           className="opacity-25"
+           cx="12"
+           cy="12"
+           r="10"
+           stroke="currentColor"
+           strokeWidth="4"
+         />
+         <path
+           className="opacity-75"
+           fill="currentColor"
+           d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
+         />
+       </svg>
+     </div>
+   );
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/projects/error.tsx</summary>

**Chunk 1**
Lines added: 13, lines removed: 1

```diff
@@ -1,1 +1,13 @@
- 
+ "use client";
+ 
+ export default function Error({ reset }: { reset: () => void }) {
+   return (
+     <div className="p-6 space-y-3">
+       <p>Failed to load projects.</p>
+       <button type="button" onClick={reset} className="underline">
+         Try again
+       </button>
+     </div>
+   );
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/sitemap.ts</summary>

**Chunk 1**
Lines added: 21, lines removed: 1

```diff
@@ -1,1 +1,21 @@
- 
+ import type { MetadataRoute } from "next";
+ import { blogs } from "@/data/blogs";
+ import { projects } from "@/data/projects";
+ 
+ export default function sitemap(): MetadataRoute.Sitemap {
+   const base = "https://kartik017.vercel.app";
+   const pages = ["", "/projects", "/blogs"].map((p) => ({
+     url: `${base}${p}`,
+     lastModified: new Date(),
+   }));
+   const blogUrls = blogs.map((b) => ({
+     url: `${base}/blogs/${b.id}`,
+     lastModified: new Date(),
+   }));
+   const projectUrls = projects.map((p) => ({
+     url: `${base}/projects/${p.id}`,
+     lastModified: new Date(),
+   }));
+   return [...pages, ...blogUrls, ...projectUrls];
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/robots.ts</summary>

**Chunk 1**
Lines added: 9, lines removed: 1

```diff
@@ -1,1 +1,9 @@
- 
+ import type { MetadataRoute } from "next";
+ 
+ export default function robots(): MetadataRoute.Robots {
+   return {
+     rules: [{ userAgent: "*", allow: "/" }],
+     sitemap: "https://kartik017.vercel.app/sitemap.xml",
+   };
+ }
+ 
```

</details>

---

Tool use: **delete_file**

删除静态 sitemap.xml，改用动态生成的 src/app/sitemap.ts

---

Tool use: **delete_file**

删除静态 robots.txt，改用动态生成的 src/app/robots.ts

---

Tool use: **search_replace**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/layout.tsx</summary>

**Chunk 1**
Lines added: 3, lines removed: undefined

```diff
@@ -24,4 +24,7 @@
    description:
      "I build products that solve real problems. Available for new opportunities.",
+   verification: {
+     google: "tMCNs2fgM6voEHBd3JsySffMFSiUCQDEFEF1iYI3-ZQ",
+   },
    openGraph: {
      url: "https://kartik017.vercel.app/",
```

</details>

---

Tool use: **search_replace**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/layout.tsx</summary>

**Chunk 1**
Lines added: undefined, lines removed: 6

```diff
@@ -50,10 +50,4 @@
    return (
      <html lang="en" suppressHydrationWarning>
-       <head>
-         <meta
-           name="google-site-verification"
-           content="tMCNs2fgM6voEHBd3JsySffMFSiUCQDEFEF1iYI3-ZQ"
-         />
-       </head>
        <body
          className={`${inter.className} ${instrumentSerif.variable}`}
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/opengraph-image.tsx</summary>

**Chunk 1**
Lines added: 30, lines removed: 1

```diff
@@ -1,1 +1,30 @@
- 
+ import { ImageResponse } from "next/og";
+ 
+ export const runtime = "edge";
+ export const alt = "Kartik Labhshetwar - Portfolio";
+ export const size = { width: 1200, height: 630 };
+ export const contentType = "image/png";
+ 
+ export default function Image() {
+   return new ImageResponse(
+     (
+       <div
+         style={{
+           fontSize: 64,
+           background: "linear-gradient(to bottom right, #1e293b, #0f172a)",
+           width: "100%",
+           height: "100%",
+           display: "flex",
+           alignItems: "center",
+           justifyContent: "center",
+           color: "white",
+           fontWeight: "bold",
+         }}
+       >
+         Kartik Labhshetwar
+       </div>
+     ),
+     { ...size },
+   );
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/twitter-image.tsx</summary>

**Chunk 1**
Lines added: 30, lines removed: 1

```diff
@@ -1,1 +1,30 @@
- 
+ import { ImageResponse } from "next/og";
+ 
+ export const runtime = "edge";
+ export const alt = "Kartik Labhshetwar - Portfolio";
+ export const size = { width: 1200, height: 630 };
+ export const contentType = "image/png";
+ 
+ export default function Image() {
+   return new ImageResponse(
+     (
+       <div
+         style={{
+           fontSize: 64,
+           background: "linear-gradient(to bottom right, #1e293b, #0f172a)",
+           width: "100%",
+           height: "100%",
+           display: "flex",
+           alignItems: "center",
+           justifyContent: "center",
+           color: "white",
+           fontWeight: "bold",
+         }}
+       >
+         Kartik Labhshetwar
+       </div>
+     ),
+     { ...size },
+   );
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/blogs/[id]/opengraph-image.tsx</summary>

**Chunk 1**
Lines added: 44, lines removed: 1

```diff
@@ -1,1 +1,44 @@
- 
+ import { ImageResponse } from "next/og";
+ import { getBlogById } from "@/data/blogs";
+ 
+ export const runtime = "edge";
+ export const alt = "Blog Post";
+ export const size = { width: 1200, height: 630 };
+ export const contentType = "image/png";
+ 
+ type Props = {
+   params: Promise<{ id: string }>;
+ };
+ 
+ export default async function Image({ params }: Props) {
+   const { id } = await params;
+   const blog = getBlogById(id);
+   const title = blog?.title ?? "Blog Post";
+ 
+   return new ImageResponse(
+     (
+       <div
+         style={{
+           fontSize: 48,
+           background: "linear-gradient(to bottom right, #1e293b, #0f172a)",
+           width: "100%",
+           height: "100%",
+           display: "flex",
+           flexDirection: "column",
+           alignItems: "center",
+           justifyContent: "center",
+           color: "white",
+           padding: "40px",
+           textAlign: "center",
+         }}
+       >
+         <div style={{ fontWeight: "bold", marginBottom: "20px" }}>{title}</div>
+         <div style={{ fontSize: 24, opacity: 0.8 }}>
+           Kartik Labhshetwar - Blog
+         </div>
+       </div>
+     ),
+     { ...size },
+   );
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/blogs/[id]/twitter-image.tsx</summary>

**Chunk 1**
Lines added: 44, lines removed: 1

```diff
@@ -1,1 +1,44 @@
- 
+ import { ImageResponse } from "next/og";
+ import { getBlogById } from "@/data/blogs";
+ 
+ export const runtime = "edge";
+ export const alt = "Blog Post";
+ export const size = { width: 1200, height: 630 };
+ export const contentType = "image/png";
+ 
+ type Props = {
+   params: Promise<{ id: string }>;
+ };
+ 
+ export default async function Image({ params }: Props) {
+   const { id } = await params;
+   const blog = getBlogById(id);
+   const title = blog?.title ?? "Blog Post";
+ 
+   return new ImageResponse(
+     (
+       <div
+         style={{
+           fontSize: 48,
+           background: "linear-gradient(to bottom right, #1e293b, #0f172a)",
+           width: "100%",
+           height: "100%",
+           display: "flex",
+           flexDirection: "column",
+           alignItems: "center",
+           justifyContent: "center",
+           color: "white",
+           padding: "40px",
+           textAlign: "center",
+         }}
+       >
+         <div style={{ fontWeight: "bold", marginBottom: "20px" }}>{title}</div>
+         <div style={{ fontSize: 24, opacity: 0.8 }}>
+           Kartik Labhshetwar - Blog
+         </div>
+       </div>
+     ),
+     { ...size },
+   );
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/projects/[id]/opengraph-image.tsx</summary>

**Chunk 1**
Lines added: 44, lines removed: 1

```diff
@@ -1,1 +1,44 @@
- 
+ import { ImageResponse } from "next/og";
+ import { getProjectById } from "@/data/projects";
+ 
+ export const runtime = "edge";
+ export const alt = "Project";
+ export const size = { width: 1200, height: 630 };
+ export const contentType = "image/png";
+ 
+ type Props = {
+   params: Promise<{ id: string }>;
+ };
+ 
+ export default async function Image({ params }: Props) {
+   const { id } = await params;
+   const project = getProjectById(id);
+   const title = project?.title ?? "Project";
+ 
+   return new ImageResponse(
+     (
+       <div
+         style={{
+           fontSize: 48,
+           background: "linear-gradient(to bottom right, #1e293b, #0f172a)",
+           width: "100%",
+           height: "100%",
+           display: "flex",
+           flexDirection: "column",
+           alignItems: "center",
+           justifyContent: "center",
+           color: "white",
+           padding: "40px",
+           textAlign: "center",
+         }}
+       >
+         <div style={{ fontWeight: "bold", marginBottom: "20px" }}>{title}</div>
+         <div style={{ fontSize: 24, opacity: 0.8 }}>
+           Kartik Labhshetwar - Projects
+         </div>
+       </div>
+     ),
+     { ...size },
+   );
+ }
+ 
```

</details>

---

Tool use: **write**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/projects/[id]/twitter-image.tsx</summary>

**Chunk 1**
Lines added: 44, lines removed: 1

```diff
@@ -1,1 +1,44 @@
- 
+ import { ImageResponse } from "next/og";
+ import { getProjectById } from "@/data/projects";
+ 
+ export const runtime = "edge";
+ export const alt = "Project";
+ export const size = { width: 1200, height: 630 };
+ export const contentType = "image/png";
+ 
+ type Props = {
+   params: Promise<{ id: string }>;
+ };
+ 
+ export default async function Image({ params }: Props) {
+   const { id } = await params;
+   const project = getProjectById(id);
+   const title = project?.title ?? "Project";
+ 
+   return new ImageResponse(
+     (
+       <div
+         style={{
+           fontSize: 48,
+           background: "linear-gradient(to bottom right, #1e293b, #0f172a)",
+           width: "100%",
+           height: "100%",
+           display: "flex",
+           flexDirection: "column",
+           alignItems: "center",
+           justifyContent: "center",
+           color: "white",
+           padding: "40px",
+           textAlign: "center",
+         }}
+       >
+         <div style={{ fontWeight: "bold", marginBottom: "20px" }}>{title}</div>
+         <div style={{ fontSize: 24, opacity: 0.8 }}>
+           Kartik Labhshetwar - Projects
+         </div>
+       </div>
+     ),
+     { ...size },
+   );
+ }
+ 
```

</details>

---

Tool use: **todo_write**

## Todo List

- [x] 为博客和项目详情页添加 generateStaticParams
- [x] 新增 loading.tsx 文件（轻量 spinner）
- [x] 新增 error.tsx 文件（错误边界）
- [x] 新增动态 sitemap.ts 和 robots.ts
- [x] 删除 public/sitemap.xml 和 public/robots.txt
- [x] 修改 layout.tsx 移除自定义 <head>，使用 metadata.verification
- [x] 新增站点级和详情页级动态 OG/Twitter 图片

---

Tool use: **read_lints**

<details>
          <summary>Read lints for 1 file</summary>
      
Lint paths:

- `/Users/f/Library/CloudStorage/Dropbox/port-website/src/app`

Lint results

Lint errors for `src/app/loading.tsx`


| Message | Range | Severity |
|-------|-------|----------|
| The elements with this role can be changed to the following elements:<br/><output> | 5:7-5:20 | DIAGNOSTIC_SEVERITY_ERROR |


Lint errors for `src/app/error.tsx`


| Message | Range | Severity |
|-------|-------|----------|
| Do not shadow the global "Error" property. | 3:25-3:30 | DIAGNOSTIC_SEVERITY_ERROR |


Lint errors for `src/app/blogs/loading.tsx`


| Message | Range | Severity |
|-------|-------|----------|
| The elements with this role can be changed to the following elements:<br/><output> | 5:7-5:20 | DIAGNOSTIC_SEVERITY_ERROR |


Lint errors for `src/app/blogs/error.tsx`


| Message | Range | Severity |
|-------|-------|----------|
| Do not shadow the global "Error" property. | 3:25-3:30 | DIAGNOSTIC_SEVERITY_ERROR |


Lint errors for `src/app/projects/loading.tsx`


| Message | Range | Severity |
|-------|-------|----------|
| The elements with this role can be changed to the following elements:<br/><output> | 5:7-5:20 | DIAGNOSTIC_SEVERITY_ERROR |


Lint errors for `src/app/projects/error.tsx`


| Message | Range | Severity |
|-------|-------|----------|
| Do not shadow the global "Error" property. | 3:25-3:30 | DIAGNOSTIC_SEVERITY_ERROR |


</details>

---

Tool use: **search_replace**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/loading.tsx</summary>

**Chunk 1**
Lines added: 1, lines removed: 5

```diff
@@ -1,9 +1,5 @@
  export default function Loading() {
    return (
-     <div
-       className="flex h-40 items-center justify-center"
-       role="status"
-       aria-label="Loading"
-     >
+     <output className="flex h-40 items-center justify-center" aria-label="Loading">
        <svg
          className="h-6 w-6 animate-spin text-gray-500"
```

**Chunk 2**
Lines added: 1, lines removed: 1

```diff
@@ -26,5 +22,5 @@
          />
        </svg>
-     </div>
+     </output>
    );
  }
```

</details>

---

Tool use: **search_replace**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/error.tsx</summary>

**Chunk 1**
Lines added: 1, lines removed: 1

```diff
@@ -1,5 +1,5 @@
  "use client";
  
- export default function Error({ reset }: { reset: () => void }) {
+ export default function ErrorBoundary({ reset }: { reset: () => void }) {
    return (
      <div className="p-6 space-y-3">
```

</details>

---

Tool use: **search_replace**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/blogs/loading.tsx</summary>

**Chunk 1**
Lines added: 1, lines removed: 5

```diff
@@ -1,9 +1,5 @@
  export default function Loading() {
    return (
-     <div
-       className="flex h-40 items-center justify-center"
-       role="status"
-       aria-label="Loading blogs"
-     >
+     <output className="flex h-40 items-center justify-center" aria-label="Loading blogs">
        <svg
          className="h-6 w-6 animate-spin text-gray-500"
```

**Chunk 2**
Lines added: 1, lines removed: 1

```diff
@@ -26,5 +22,5 @@
          />
        </svg>
-     </div>
+     </output>
    );
  }
```

</details>

---

Tool use: **search_replace**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/blogs/error.tsx</summary>

**Chunk 1**
Lines added: 1, lines removed: 1

```diff
@@ -1,5 +1,5 @@
  "use client";
  
- export default function Error({ reset }: { reset: () => void }) {
+ export default function ErrorBoundary({ reset }: { reset: () => void }) {
    return (
      <div className="p-6 space-y-3">
```

</details>

---

Tool use: **search_replace**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/projects/loading.tsx</summary>

**Chunk 1**
Lines added: 1, lines removed: 5

```diff
@@ -1,9 +1,5 @@
  export default function Loading() {
    return (
-     <div
-       className="flex h-40 items-center justify-center"
-       role="status"
-       aria-label="Loading projects"
-     >
+     <output className="flex h-40 items-center justify-center" aria-label="Loading projects">
        <svg
          className="h-6 w-6 animate-spin text-gray-500"
```

**Chunk 2**
Lines added: 1, lines removed: 1

```diff
@@ -26,5 +22,5 @@
          />
        </svg>
-     </div>
+     </output>
    );
  }
```

</details>

---

Tool use: **search_replace**


<details><summary>Edit file: /Users/f/Library/CloudStorage/Dropbox/port-website/src/app/projects/error.tsx</summary>

**Chunk 1**
Lines added: 1, lines removed: 1

```diff
@@ -1,5 +1,5 @@
  "use client";
  
- export default function Error({ reset }: { reset: () => void }) {
+ export default function ErrorBoundary({ reset }: { reset: () => void }) {
    return (
      <div className="p-6 space-y-3">
```

</details>

---

Tool use: **read_lints**

<details>
          <summary>Read lints for 1 file</summary>
      
Lint paths:

- `/Users/f/Library/CloudStorage/Dropbox/port-website/src/app`

Lint results


**No lint errors found**
</details>

---

完美！✅ 所有 Next.js 16 文件系统特性已成功落地，无 lint 错误。

## 已完成的改进（全部 7 项）

### 1. ⚡ 静态生成优化
- ✅ `src/app/blogs/[id]/page.tsx` - 添加 `generateStaticParams`，预生成所有博客详情页
- ✅ `src/app/projects/[id]/page.tsx` - 添加 `generateStaticParams`，预生成所有项目详情页
- **效果**：页面切换接近瞬时，构建时已生成静态 HTML

### 2. 🔄 加载状态（轻量 spinner）
- ✅ `src/app/loading.tsx` - 站点级加载状态
- ✅ `src/app/blogs/loading.tsx` - 博客列表加载状态
- ✅ `src/app/projects/loading.tsx` - 项目列表加载状态
- **效果**：流式渲染时即时反馈，使用语义化 `<output>` 元素 + 无障碍标签

### 3. 🛡️ 错误边界
- ✅ `src/app/error.tsx` - 站点级错误捕获
- ✅ `src/app/blogs/error.tsx` - 博客列表错误捕获
- ✅ `src/app/projects/error.tsx` - 项目列表错误捕获
- **效果**：错误就地展示并可重试，避免全站崩溃

### 4. 🗺️ 动态 sitemap/robots（代码生成）
- ✅ `src/app/sitemap.ts` - 自动从 `blogs` 与 `projects` 生成站点地图
- ✅ `src/app/robots.ts` - 动态生成爬虫规则
- ✅ 删除 `public/sitemap.xml` 与 `public/robots.txt`
- **效果**：新增博客/项目自动出现在 sitemap，无需手动维护

### 5. 🎨 动态 OG/Twitter 图片
**站点级：**
- ✅ `src/app/opengraph-image.tsx`
- ✅ `src/app/twitter-image.tsx`

**详情页级（动态标题）：**
- ✅ `src/app/blogs/[id]/opengraph-image.tsx`
- ✅ `src/app/blogs/[id]/twitter-image.tsx`
- ✅ `src/app/projects/[id]/opengraph-image.tsx`
- ✅ `src/app/projects/[id]/twitter-image.tsx`

**效果**：分享到社交媒体时自动显示对应博客/项目标题的精美卡片

### 6. 📐 规范对齐
- ✅ `src/app/layout.tsx` - 移除自定义 `<head>`，改用 `metadata.verification`
- **效果**：符合 Next.js 最佳实践，避免 lint 告警

## 性能与开发体验提升
- **构建时**：博客/项目详情页全部预渲染为静态 HTML
- **运行时**：导航切换极快（静态资源），加载/错误状态即时反馈
- **SEO**：sitemap 自动同步，OG 图片动态生成
- **维护性**：新增内容自动更新 sitemap 与 OG 图片，无需手动操作

所有改动已通过 Ultracite 规则验证（无障碍、类型安全、代码质量），可直接运行 `bun run dev` 体验！🚀

---

